{
  "triggers": {
    "ciOnly": {
      "description": "仅执行CI流程（测试+构建）",
      "events": [
        {
          "type": "pull_request",
          "branches": ["develop", "main"],
          "actions": ["opened", "synchronize", "reopened", "ready_for_review"]
        },
        {
          "type": "push",
          "branches": ["develop"]
        }
      ],
      "commitKeywords": ["[TEST ONLY]"]
    },
    "fullCICD": {
      "description": "完整CI/CD流程（测试+构建+发布+部署）",
      "events": [
        {
          "type": "push",
          "tags": ["v[0-9]+.[0-9]+.[0-9]+", "v[0-9]+.[0-9]+.[0-9]+-rc.[0-9]+"]
        },
        {
          "type": "push", 
          "branches": ["release/*"]
        }
      ]
    },
    "skip": {
      "description": "跳过所有CI/CD流程",
      "commitKeywords": ["[SKIP CICD]", "[SKIP CI]"]
    }
  },
  "validation": {
    "requiredSecrets": [
      "UNITY_EMAIL",
      "UNITY_PASSWORD", 
      "UNITY_LICENSE",
      "CICD_PAT"
    ],
    "optionalSecrets": [
      "BUTLER_API_KEY",
      "ITCH_USERNAME", 
      "ITCH_PROJECT",
      "APPCENTER_OWNER_NAME",
      "DEPLOY_API_KEY",
      "FIREBASE_TOKEN",
      "AWS_ACCESS_KEY_ID",
      "AWS_SECRET_ACCESS_KEY",
      "S3_BUCKET",
      "STEAM_USERNAME",
      "STEAM_PASSWORD", 
      "STEAM_APP_ID",
      "STEAM_DEPOT_VDF_PATH",
      "APPSTORE_API_KEY_ID",
      "APPSTORE_API_ISSUER_ID",
      "APPSTORE_API_PRIVATE_KEY",
      "CUSTOM_SERVER_HOST",
      "CUSTOM_SERVER_USER",
      "CUSTOM_SERVER_KEY",
      "SLACK_WEBHOOK",
      "DISCORD_WEBHOOK"
    ]
  },
  "errorHandling": {
    "enableDetailedLogs": true,
    "enableDebugOutput": true,
    "enableFailureSummary": true,
    "enableConfigValidation": true,
    "retryOnFailure": {
      "enabled": true,
      "maxRetries": 2,
      "retryableErrors": [
        "network",
        "timeout",
        "unity_license",
        "artifact_download"
      ]
    }
  },
  "notifications": {
    "onSuccess": {
      "enabled": true,
      "targets": ["slack", "discord"]
    },
    "onFailure": {
      "enabled": true,
      "targets": ["slack", "discord"],
      "includeErrorDetails": true
    },
    "onSkip": {
      "enabled": false
    }
  },
  "debugging": {
    "enableStepTiming": true,
    "enableEnvironmentDump": true,
    "enableArtifactListing": true,
    "enableConfigDump": true,
    "preserveFailedBuilds": true,
    "uploadDebugLogs": true
  }
} 